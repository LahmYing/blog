---
title: 移动端适配多个分辨率不同的设备
date: 2021-08-26 18:08:51
tags: [移动端, css]
---

<!-- toc -->

# 1px 等于多少设备物理像素

不同分辨率设备下 1px 代表的设备物理像素不同（一般 px 是 2 倍物理像素，设计图）
window.devicePixelRatio
用户缩放也会影响，放大 1 倍，代表的物理像素也放大 1 倍

# viewport

[我们常说的 viewport 是 layout viewport](https://www.runoob.com/w3cnote/viewport-deep-understanding.html)
移动端: 一般都是 980px
这个 layout viewport 的宽度可以通过 document.documentElement.clientWidth 来获取

# 查询设备宽度(px)

常用的直接 F12 看模拟调试的移动设备即可
https://viewportsizes.com/#footer

# clientWidth,offsetWidth 等

https://segmentfault.com/a/1190000017254887

# px 自动转 rem 工具

px2rem：https://www.npmjs.com/package/px2rem

# vw 实现动态 font-size

https://developer.mozilla.org/zh-CN/docs/Learn/CSS/CSS_layout/Responsive_Design

```css
h1 {
  /* 固定值+vw */
  font-size: calc(1.5rem + 3vw);
}
```

# 移动端适配多个分辨率不同的设备

## 方案

https://www.cnblogs.com/zjzhang/p/6885790.html

### 网易方案

没有动态计算缩放比例，效果是：`内容比例是对的，但内容大小不对`

### amfe-flexible （推荐）

[amfe-flexible](https://github.com/amfe/lib-flexible)
原理：https://juejin.cn/post/6844903833697517576

#### 相比网易方案

viewport 没有限制缩放的同时，设置`<body>`默认 fontSize = 12\*dpr + 'px', 达到 **rem 部分随着 clientWidth 缩放，其他部分正常显示** 的效果
网易方案少了这一步，其 body fontSize 同 html fontSize，所以其他部分都变大了
