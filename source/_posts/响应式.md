---
title: 适配-响应式
date: 2021-11-11 17:36:30
tags: [css, 适配]
category: [css]
---

<!-- toc -->

# 响应式

https://github.com/ljianshu/Blog/issues/38

{% asset_img 响应式布局.png %}

## viewport

viewport （视口） == 浏览器中用于呈现网页的区域。
视口通常并不等于屏幕大小，特别是可以缩放浏览器窗口的情况下。
电脑端的视口宽度等于分辨率，而移动端的视口宽度跟分辨率没有关系,宽度默认值是设备厂家指定的。
iOS, Android 基本都将这个视口分辨率设置为 980px。

```js
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" />
// width=device-width   视口为设备宽度（就是人设置的一个宽度）//不设置的话默认为980px
// initial-scale=1.0    初始化的视口大小是1.0倍
// maximum-scale=1.0    最大的倍数是1.0倍
// user-scalable=0      不允许缩放视口
// 约束后的视口宽度都是在 320~480 之间（手机竖直使用的时候）。
// 这个视口的尺寸，是手机厂商设置的
// 能够保证
//   1)我们的文字比如 16px，在自己的这个视口下清晰、大小刚刚合适。
//   2)我们的网页可以用 px 写字号、写行高。
// 注意：
//   1)约束之后的视口宽度，不是自己的分辨率！！每个手机的分辨率，都要比自己的视口宽度大得多得多！
//   2)前端开发工程师，丝毫不关心手机的分辨率，我们只关心视口
```

## 图片

我们想让图片能在不同大小的屏幕中自动缩放

```css
img {
  max-width: 100%;
}
```

为什么用 max-width? 保证所有图片最大显示为其自身的 100%（即最大只可以显示为自身那么大）。此时，如果包含图片的元素（比如包含图片的 body 或 div）比图片固有宽度小，图片会缩放占满最大可用空间

为什么不用 width:100%? 这条规则会导致它显示得跟它的容器一样宽。在容器比图片宽得多的情况下，图片会被无谓地拉伸。

### 写法

https://www.cnblogs.com/hgj123/p/6547915.html
https://www.imooc.com/article/14017

```css
/* 方法1 */
img {
  /* img是行内元素。不是块级元素。如果不给img加上block,页面上会出现一点点空隙，图片不能完全贴合 */
  display: block;
  /* 宽度如果不需要跟着容器拉伸的话，可注释下面两行 */
  width: 100%;
  max-width: 100%;
  height: 100%;
}

/* 方法2 */
.some-class {
  /* 加载背景图 */
  background-image: url(images/background-photo.jpg);

  /* 背景图垂直、水平均居中 */
  background-position: center center;

  /* 背景图不平铺 */
  background-repeat: no-repeat;

  /* 当内容高度大于图片高度时，背景图像的位置相对于viewport固定 */
  background-attachment: fixed;

  /* 让背景图基于容器大小伸缩 */
  background-size: cover;

  /* 设置背景颜色，背景图加载过程中会显示背景色 */
  background-color: #464646;
}
```

## 媒体查询

```css
body {
  background-color: grey;
}
@media screen and (min-width: 1200px) {
  body {
    background-color: pink;
  }
}
@media screen and (min-width: 700px) and (max-width: 1200px) {
  body {
    background-color: blue;
  }
}
@media screen and (max-width: 700px) {
  body {
    background-color: orange;
  }
}
```

## 百分比

百分比能够设置的属性是 width、height、padding、margin。
其他属性比如 border、font-size 不能用百分比设置的

如果用百分比写

- width，指的是父元素 width 的百分之多少
- height，那么指的是父元素 height 的百分之多少
- padding，那么指的是父元素 width 的百分之多少，无论是水平的 padding 还是竖直的 padding
- margin，那么指的是父元素 width 的百分之多少，无论是水平的 margin 还是竖直的 margin

```css
div {
  width: 200px;
  height: 300px;
  padding: 10px;
}
div p {
  width: 50%;
  height: 50%;
  padding: 10%;
}
/* 
此时p的真实宽度是多少？
width = 200px x 50% + 2 x 200px x 10% (左右padding) = 140px
height = 300px x 50% + 2 x 200px x 10% (上下padding) = 190px
此时 p 的真实宽度是 140px*190px
*/
```

## rem

1 rem = 根元素`<html>`的 font-size 大小，浏览器的默认 font-size 为 16px 或 14px

结合媒体查询使用，比如大尺寸终端下加大 font-size

### 布局思想

- 小图标依旧用 px
- 高度值可以设置固定值,设计稿有多大,我们就严格写多大
  除了登录页面这种特殊情况（铺满 & 避免滚动条），要考虑设备高度，比如在 `1024*768 1280*1024 1280*800` 这三个设备的范围内，以 `1024*768` 准，从而确定内容宽高，这是折中的做法
